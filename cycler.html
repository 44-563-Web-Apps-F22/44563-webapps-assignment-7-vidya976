<!DOCTYPE html>
<html>

<head>
    <title>Welcome to Cycler Page</title>
    <style>
        .flex-container {
            display: flex;
            flex-direction: row;
            background-color: rgb(10, 230, 250);
        }

        .flex-container>div {
            background-color: whitesmoke;
            margin: 10px;
            padding: 20px;
            font-size: 30px;
        }

        @media (max-width: 600px) {
            .flex-container {
                flex-direction: column;
                background-color: rgb(129, 232, 69);
            }
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
        crossorigin="anonymous"></script>
</head>

<body>
    <h1>Srividya Nalluri builds a cycler</h1>
    <br>
    <div class="flex-container" id="target">
        <div class="cycler">row item 1</div>
        <div class="cycler">row item 2</div>
        <div class="cycler">row item 3</div>
    </div><br>
    <label for="inputElement">Enter Number: <br></label>
    <input type="text" name="input" id="inputElement" value="">
    <br>

    <div class="container text-center">
        <button class="btn btn-warning" type="submit" onclick="makeNewDiv()">Add Value</button>
        <button class="btn btn-danger" type="submit" onclick="get()">Get</button>
        <button class="btn btn-success" type="submit" onclick="spin()">Spin</button>
        <button class="btn btn-success" type="submit" onclick="swap()">Swap</button>
    </div>
    </div>

    <script>
        function makeNewDiv() {
            let element = document.createElement("div")
            let value = document.getElementById("inputElement").value

            element.innerHTML = value
            element.className = "cycler"

            let container = document.getElementById("target")
            container.appendChild(element)
        }
    </script>
    <script>
        function get() {
            let cyclerItems = document.getElementsByClassName("cycler")
            if (cyclerItems.length > 0) {
                cyclerItems[cyclerItems.length - 1].remove()
            }
        }

        function spin() {
            let cyclerItems = document.getElementsByClassName("cycler")
            if (cyclerItems.length > 1) {
                removedItem = cyclerItems[cyclerItems.length - 1]
                cyclerItems[cyclerItems.length - 1].remove()
                let container = document.getElementById("target")
                container.insertBefore(removedItem, container.firstChild)
            }
        }
        function swap() {
            let cyclerItems = document.getElementsByClassName('cycler');
            let cyclersSize = cyclerItems.length;
            let nodeA = cyclerItems[Math.round(Math.random() * (cyclersSize - 1))]
            let nodeB = cyclerItems[Math.round(Math.random() * (cyclersSize - 1))]
            const parentA = nodeA.parentNode;
            const siblingA = nodeA.nextSibling === nodeB ? nodeA : nodeA.nextSibling;
            nodeB.parentNode.insertBefore(nodeA, nodeB);
            parentA.insertBefore(nodeB, siblingA);
        }
    </script>
</body>

</html>